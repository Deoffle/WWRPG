(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return s}});let s=e=>{}},18581,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return a}});let s=e.r(71645);function a(e,t){let r=(0,s.useRef)(null),a=(0,s.useRef)(null);return(0,s.useCallback)(s=>{if(null===s){let e=r.current;e&&(r.current=null,e());let t=a.current;t&&(a.current=null,t())}else e&&(r.current=n(e,s)),t&&(a.current=n(t,s))},[e,t])}function n(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},98183,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s={assign:function(){return o},searchParamsToUrlQuery:function(){return n},urlQueryToSearchParams:function(){return l}};for(var a in s)Object.defineProperty(r,a,{enumerable:!0,get:s[a]});function n(e){let t={};for(let[r,s]of e.entries()){let e=t[r];void 0===e?t[r]=s:Array.isArray(e)?e.push(s):t[r]=[e,s]}return t}function i(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function l(e){let t=new URLSearchParams;for(let[r,s]of Object.entries(e))if(Array.isArray(s))for(let e of s)t.append(r,i(e));else t.set(r,i(s));return t}function o(e,...t){for(let r of t){for(let t of r.keys())e.delete(t);for(let[t,s]of r.entries())e.append(t,s)}return e}},95057,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s={formatUrl:function(){return l},formatWithValidation:function(){return c},urlObjectKeys:function(){return o}};for(var a in s)Object.defineProperty(r,a,{enumerable:!0,get:s[a]});let n=e.r(90809)._(e.r(98183)),i=/https?|ftp|gopher|file/;function l(e){let{auth:t,hostname:r}=e,s=e.protocol||"",a=e.pathname||"",l=e.hash||"",o=e.query||"",c=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?c=t+e.host:r&&(c=t+(~r.indexOf(":")?`[${r}]`:r),e.port&&(c+=":"+e.port)),o&&"object"==typeof o&&(o=String(n.urlQueryToSearchParams(o)));let d=e.search||o&&`?${o}`||"";return s&&!s.endsWith(":")&&(s+=":"),e.slashes||(!s||i.test(s))&&!1!==c?(c="//"+(c||""),a&&"/"!==a[0]&&(a="/"+a)):c||(c=""),l&&"#"!==l[0]&&(l="#"+l),d&&"?"!==d[0]&&(d="?"+d),a=a.replace(/[?#]/g,encodeURIComponent),d=d.replace("#","%23"),`${s}${c}${a}${d}${l}`}let o=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function c(e){return l(e)}},18967,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s={DecodeError:function(){return y},MiddlewareNotFoundError:function(){return j},MissingStaticPage:function(){return v},NormalizeError:function(){return x},PageNotFoundError:function(){return b},SP:function(){return h},ST:function(){return g},WEB_VITALS:function(){return n},execOnce:function(){return i},getDisplayName:function(){return u},getLocationOrigin:function(){return c},getURL:function(){return d},isAbsoluteUrl:function(){return o},isResSent:function(){return p},loadGetInitialProps:function(){return f},normalizeRepeatedSlashes:function(){return m},stringifyError:function(){return N}};for(var a in s)Object.defineProperty(r,a,{enumerable:!0,get:s[a]});let n=["CLS","FCP","FID","INP","LCP","TTFB"];function i(e){let t,r=!1;return(...s)=>(r||(r=!0,t=e(...s)),t)}let l=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,o=e=>l.test(e);function c(){let{protocol:e,hostname:t,port:r}=window.location;return`${e}//${t}${r?":"+r:""}`}function d(){let{href:e}=window.location,t=c();return e.substring(t.length)}function u(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function p(e){return e.finished||e.headersSent}function m(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function f(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await f(t.Component,t.ctx)}:{};let s=await e.getInitialProps(t);if(r&&p(r))return s;if(!s)throw Object.defineProperty(Error(`"${u(e)}.getInitialProps()" should resolve to an object. But found "${s}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return s}let h="undefined"!=typeof performance,g=h&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class y extends Error{}class x extends Error{}class b extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class v extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class j extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function N(e){return JSON.stringify({message:e.message,stack:e.stack})}},73668,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isLocalURL",{enumerable:!0,get:function(){return n}});let s=e.r(18967),a=e.r(52817);function n(e){if(!(0,s.isAbsoluteUrl)(e))return!0;try{let t=(0,s.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,a.hasBasePath)(r.pathname)}catch(e){return!1}}},84508,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return s}});let s=e=>{}},22016,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s={default:function(){return y},useLinkStatus:function(){return b}};for(var a in s)Object.defineProperty(r,a,{enumerable:!0,get:s[a]});let n=e.r(90809),i=e.r(43476),l=n._(e.r(71645)),o=e.r(95057),c=e.r(8372),d=e.r(18581),u=e.r(18967),p=e.r(5550);e.r(33525);let m=e.r(91949),f=e.r(73668),h=e.r(9396);function g(e){return"string"==typeof e?e:(0,o.formatUrl)(e)}function y(t){var r;let s,a,n,[o,y]=(0,l.useOptimistic)(m.IDLE_LINK_STATUS),b=(0,l.useRef)(null),{href:v,as:j,children:N,prefetch:w=null,passHref:C,replace:k,shallow:S,scroll:A,onClick:I,onMouseEnter:P,onTouchStart:O,legacyBehavior:E=!1,onNavigate:T,ref:_,unstable_dynamicOnHover:$,...U}=t;s=N,E&&("string"==typeof s||"number"==typeof s)&&(s=(0,i.jsx)("a",{children:s}));let M=l.default.useContext(c.AppRouterContext),R=!1!==w,L=!1!==w?null===(r=w)||"auto"===r?h.FetchStrategy.PPR:h.FetchStrategy.Full:h.FetchStrategy.PPR,{href:z,as:F}=l.default.useMemo(()=>{let e=g(v);return{href:e,as:j?g(j):e}},[v,j]);if(E){if(s?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});a=l.default.Children.only(s)}let D=E?a&&"object"==typeof a&&a.ref:_,q=l.default.useCallback(e=>(null!==M&&(b.current=(0,m.mountLinkInstance)(e,z,M,L,R,y)),()=>{b.current&&((0,m.unmountLinkForCurrentNavigation)(b.current),b.current=null),(0,m.unmountPrefetchableInstance)(e)}),[R,z,M,L,y]),B={ref:(0,d.useMergedRef)(q,D),onClick(t){E||"function"!=typeof I||I(t),E&&a.props&&"function"==typeof a.props.onClick&&a.props.onClick(t),!M||t.defaultPrevented||function(t,r,s,a,n,i,o){if("undefined"!=typeof window){let c,{nodeName:d}=t.currentTarget;if("A"===d.toUpperCase()&&((c=t.currentTarget.getAttribute("target"))&&"_self"!==c||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,f.isLocalURL)(r)){n&&(t.preventDefault(),location.replace(r));return}if(t.preventDefault(),o){let e=!1;if(o({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:u}=e.r(99781);l.default.startTransition(()=>{u(s||r,n?"replace":"push",i??!0,a.current)})}}(t,z,F,b,k,A,T)},onMouseEnter(e){E||"function"!=typeof P||P(e),E&&a.props&&"function"==typeof a.props.onMouseEnter&&a.props.onMouseEnter(e),M&&R&&(0,m.onNavigationIntent)(e.currentTarget,!0===$)},onTouchStart:function(e){E||"function"!=typeof O||O(e),E&&a.props&&"function"==typeof a.props.onTouchStart&&a.props.onTouchStart(e),M&&R&&(0,m.onNavigationIntent)(e.currentTarget,!0===$)}};return(0,u.isAbsoluteUrl)(F)?B.href=F:E&&!C&&("a"!==a.type||"href"in a.props)||(B.href=(0,p.addBasePath)(F)),n=E?l.default.cloneElement(a,B):(0,i.jsx)("a",{...U,...B,children:s}),(0,i.jsx)(x.Provider,{value:o,children:n})}e.r(84508);let x=(0,l.createContext)(m.IDLE_LINK_STATUS),b=()=>(0,l.useContext)(x);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},18566,(e,t,r)=>{t.exports=e.r(76562)},9156,(e,t,r)=>{"use strict";let s;Object.defineProperty(r,"__esModule",{value:!0}),r.parseCookie=u,r.parse=u,r.stringifyCookie=function(e,t){let r=t?.encode||encodeURIComponent,s=[];for(let t of Object.keys(e)){let i=e[t];if(void 0===i)continue;if(!a.test(t))throw TypeError(`cookie name is invalid: ${t}`);let l=r(i);if(!n.test(l))throw TypeError(`cookie val is invalid: ${i}`);s.push(`${t}=${l}`)}return s.join("; ")},r.stringifySetCookie=p,r.serialize=p,r.parseSetCookie=function(e,t){let r=t?.decode||g,s=e.length,a=m(e,0,s),n=f(e,0,a),i=-1===n?{name:"",value:r(h(e,0,a))}:{name:h(e,0,n),value:r(h(e,n+1,a))},l=a+1;for(;l<s;){let t=m(e,l,s),r=f(e,l,t),a=-1===r?h(e,l,t):h(e,l,r),n=-1===r?void 0:h(e,r+1,t);switch(a.toLowerCase()){case"httponly":i.httpOnly=!0;break;case"secure":i.secure=!0;break;case"partitioned":i.partitioned=!0;break;case"domain":i.domain=n;break;case"path":i.path=n;break;case"max-age":n&&o.test(n)&&(i.maxAge=Number(n));break;case"expires":if(!n)break;let c=new Date(n);Number.isFinite(c.valueOf())&&(i.expires=c);break;case"priority":if(!n)break;let d=n.toLowerCase();("low"===d||"medium"===d||"high"===d)&&(i.priority=d);break;case"samesite":if(!n)break;let u=n.toLowerCase();("lax"===u||"strict"===u||"none"===u)&&(i.sameSite=u)}l=t+1}return i},r.stringifySetCookie=p,r.serialize=p;let a=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,n=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,l=/^[\u0020-\u003A\u003D-\u007E]*$/,o=/^-?\d+$/,c=Object.prototype.toString,d=((s=function(){}).prototype=Object.create(null),s);function u(e,t){let r=new d,s=e.length;if(s<2)return r;let a=t?.decode||g,n=0;do{let t=f(e,n,s);if(-1===t)break;let i=m(e,n,s);if(t>i){n=e.lastIndexOf(";",t-1)+1;continue}let l=h(e,n,t);void 0===r[l]&&(r[l]=a(h(e,t+1,i))),n=i+1}while(n<s)return r}function p(e,t,r){let s="object"==typeof e?e:{...r,name:e,value:String(t)},o=("object"==typeof t?t:r)?.encode||encodeURIComponent;if(!a.test(s.name))throw TypeError(`argument name is invalid: ${s.name}`);let d=s.value?o(s.value):"";if(!n.test(d))throw TypeError(`argument val is invalid: ${s.value}`);let u=s.name+"="+d;if(void 0!==s.maxAge){if(!Number.isInteger(s.maxAge))throw TypeError(`option maxAge is invalid: ${s.maxAge}`);u+="; Max-Age="+s.maxAge}if(s.domain){if(!i.test(s.domain))throw TypeError(`option domain is invalid: ${s.domain}`);u+="; Domain="+s.domain}if(s.path){if(!l.test(s.path))throw TypeError(`option path is invalid: ${s.path}`);u+="; Path="+s.path}if(s.expires){var p;if(p=s.expires,"[object Date]"!==c.call(p)||!Number.isFinite(s.expires.valueOf()))throw TypeError(`option expires is invalid: ${s.expires}`);u+="; Expires="+s.expires.toUTCString()}if(s.httpOnly&&(u+="; HttpOnly"),s.secure&&(u+="; Secure"),s.partitioned&&(u+="; Partitioned"),s.priority)switch("string"==typeof s.priority?s.priority.toLowerCase():void 0){case"low":u+="; Priority=Low";break;case"medium":u+="; Priority=Medium";break;case"high":u+="; Priority=High";break;default:throw TypeError(`option priority is invalid: ${s.priority}`)}if(s.sameSite)switch("string"==typeof s.sameSite?s.sameSite.toLowerCase():s.sameSite){case!0:case"strict":u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"none":u+="; SameSite=None";break;default:throw TypeError(`option sameSite is invalid: ${s.sameSite}`)}return u}function m(e,t,r){let s=e.indexOf(";",t);return -1===s?r:s}function f(e,t,r){let s=e.indexOf("=",t);return s<r?s:-1}function h(e,t,r){let s=t,a=r;do{let t=e.charCodeAt(s);if(32!==t&&9!==t)break}while(++s<a)for(;a>s;){let t=e.charCodeAt(a-1);if(32!==t&&9!==t)break;a--}return e.slice(s,a)}function g(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},52683,(e,t,r)=>{},2410,e=>{"use strict";let t;var r=e.i(47167),s=e.i(88715),a=e.i(9156);function n(){return"undefined"!=typeof window&&void 0!==window.document}a.parse,a.serialize;let i={path:"/",sameSite:"lax",httpOnly:!1,maxAge:3456e4},l=/^(.*)[.](0|[1-9][0-9]*)$/;function o(e,t){if(e===t)return!0;let r=e.match(l);return!!r&&r[1]===t}function c(e,t,r){let s=r??3180,a=encodeURIComponent(t);if(a.length<=s)return[{name:e,value:t}];let n=[];for(;a.length>0;){let e=a.slice(0,s),t=e.lastIndexOf("%");t>s-3&&(e=e.slice(0,t));let r="";for(;e.length>0;)try{r=decodeURIComponent(e);break}catch(t){if(t instanceof URIError&&"%"===e.at(-3)&&e.length>3)e=e.slice(0,e.length-3);else throw t}n.push(r),a=a.slice(e.length)}return n.map((t,r)=>({name:`${e}.${r}`,value:t}))}async function d(e,t){let r=await t(e);if(r)return r;let s=[];for(let r=0;;r++){let a=`${e}.${r}`,n=await t(a);if(!n)break;s.push(n)}return s.length>0?s.join(""):null}let u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),p=" 	\n\r=".split(""),m=(()=>{let e=Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<p.length;t+=1)e[p[t].charCodeAt(0)]=-2;for(let t=0;t<u.length;t+=1)e[u[t].charCodeAt(0)]=t;return e})();function f(e){let t=[],r=0,s=0;if(function(e,t){for(let r=0;r<e.length;r+=1){let s=e.charCodeAt(r);if(s>55295&&s<=56319){let t=(s-55296)*1024&65535;s=(e.charCodeAt(r+1)-56320&65535|t)+65536,r+=1}!function(e,t){if(e<=127)return t(e);if(e<=2047){t(192|e>>6),t(128|63&e);return}if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|63&e);return}if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|63&e);return}throw Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}(s,t)}}(e,e=>{for(r=r<<8|e,s+=8;s>=6;){let e=r>>s-6&63;t.push(u[e]),s-=6}}),s>0)for(r<<=6-s,s=6;s>=6;){let e=r>>s-6&63;t.push(u[e]),s-=6}return t.join("")}function h(e){let t=[],r=e=>{t.push(String.fromCodePoint(e))},s={utf8seq:0,codepoint:0},a=0,n=0;for(let t=0;t<e.length;t+=1){let i=m[e.charCodeAt(t)];if(i>-1)for(a=a<<6|i,n+=6;n>=8;)(function(e,t,r){if(0===t.utf8seq){if(e<=127)return r(e);for(let r=1;r<6;r+=1)if((e>>7-r&1)==0){t.utf8seq=r;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else if(4===t.utf8seq)t.codepoint=7&e;else throw Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&r(t.codepoint)}})(a>>n-8&255,s,r),n-=8;else if(-2===i)continue;else throw Error(`Invalid Base64-URL character "${e.at(t)}" at position ${t}`)}return t.join("")}let g="base64-";async function y({getAll:e,setAll:t,setItems:r,removedItems:s},a){let n=a.cookieEncoding,l=a.cookieOptions??null,d=await e([...r?Object.keys(r):[],...s?Object.keys(s):[]]),u=d?.map(({name:e})=>e)||[],p=Object.keys(s).flatMap(e=>u.filter(t=>o(t,e))),m=Object.keys(r).flatMap(e=>{let t=new Set(u.filter(t=>o(t,e))),s=r[e];"base64url"===n&&(s=g+f(s));let a=c(e,s);return a.forEach(e=>{t.delete(e.name)}),p.push(...t),a}),h={...i,...l,maxAge:0},y={...i,...l,maxAge:i.maxAge};delete h.name,delete y.name,await t([...p.map(e=>({name:e,value:"",options:h})),...m.map(({name:e,value:t})=>({name:e,value:t,options:y}))])}if(e.i(52683),void 0!==r.default&&r.default.env?.npm_package_name){let e=r.default.env.npm_package_name;["@supabase/auth-helpers-nextjs","@supabase/auth-helpers-react","@supabase/auth-helpers-remix","@supabase/auth-helpers-sveltekit"].includes(e)&&console.warn(`
╔════════════════════════════════════════════════════════════════════════════╗
║ ⚠️  IMPORTANT: Package Consolidation Notice                                ║
║                                                                            ║
║ The ${e.padEnd(35)} package name is deprecated.  ║
║                                                                            ║
║ You are now using @supabase/ssr - a unified solution for all frameworks.  ║
║                                                                            ║
║ The auth-helpers packages have been consolidated into @supabase/ssr       ║
║ to provide better maintenance and consistent APIs across frameworks.      ║
║                                                                            ║
║ Please update your package.json to use @supabase/ssr directly:            ║
║   npm uninstall ${e.padEnd(42)} ║
║   npm install @supabase/ssr                                               ║
║                                                                            ║
║ For more information, visit:                                              ║
║ https://supabase.com/docs/guides/auth/server-side                         ║
╚════════════════════════════════════════════════════════════════════════════╝
    `)}function x(){return function(e,r,l){let u=n();if(u&&t)return t;if(!e||!r)throw Error(`@supabase/ssr: Your project's URL and API key are required to create a Supabase client!

Check your Supabase project's API settings to find these values

https://supabase.com/dashboard/project/_/settings/api`);let{storage:p}=function(e,t){let r,s,l=e.cookies??null,u=e.cookieEncoding,p={},m={};if(l)if("get"in l){let e=async e=>{let t=e.flatMap(e=>[e,...Array.from({length:5}).map((t,r)=>`${e}.${r}`)]),r=[];for(let e=0;e<t.length;e+=1){let s=await l.get(t[e]);(s||"string"==typeof s)&&r.push({name:t[e],value:s})}return r};if(r=async t=>await e(t),"set"in l&&"remove"in l)s=async e=>{for(let t=0;t<e.length;t+=1){let{name:r,value:s,options:a}=e[t];s?await l.set(r,s,a):await l.remove(r,a)}};else if(t)s=async()=>{console.warn("@supabase/ssr: createServerClient was configured without set and remove cookie methods, but the client needs to set cookies. This can lead to issues such as random logouts, early session termination or increased token refresh requests. If in NextJS, check your middleware.ts file, route handlers and server actions for correctness. Consider switching to the getAll and setAll cookie methods instead of get, set and remove which are deprecated and can be difficult to use correctly.")};else throw Error("@supabase/ssr: createBrowserClient requires configuring a getAll and setAll cookie method (deprecated: alternatively both get, set and remove can be used)")}else if("getAll"in l)if(r=async()=>await l.getAll(),"setAll"in l)s=l.setAll;else if(t)s=async()=>{console.warn("@supabase/ssr: createServerClient was configured without the setAll cookie method, but the client needs to set cookies. This can lead to issues such as random logouts, early session termination or increased token refresh requests. If in NextJS, check your middleware.ts file, route handlers and server actions for correctness.")};else throw Error("@supabase/ssr: createBrowserClient requires configuring both getAll and setAll cookie methods (deprecated: alternatively both get, set and remove can be used)");else throw Error(`@supabase/ssr: ${t?"createServerClient":"createBrowserClient"} requires configuring getAll and setAll cookie methods (deprecated: alternatively use get, set and remove).${n()?" As this is called in a browser runtime, consider removing the cookies option object to use the document.cookie API automatically.":""}`);else if(!t&&n())r=()=>{let e;return Object.keys(e=(0,a.parse)(document.cookie)).map(t=>({name:t,value:e[t]??""}))},s=e=>{e.forEach(({name:e,value:t,options:r})=>{document.cookie=(0,a.serialize)(e,t,r)})};else if(t)throw Error("@supabase/ssr: createServerClient must be initialized with cookie options that specify getAll and setAll functions (deprecated, not recommended: alternatively use get, set and remove)");else r=()=>[],s=()=>{throw Error("@supabase/ssr: createBrowserClient in non-browser runtimes (including Next.js pre-rendering mode) was not initialized cookie options that specify getAll and setAll functions (deprecated: alternatively use get, set and remove), but they were needed")};return t?{getAll:r,setAll:s,setItems:p,removedItems:m,storage:{isServer:!0,getItem:async e=>{if("string"==typeof p[e])return p[e];if(m[e])return null;let t=await r([e]),s=await d(e,async e=>{let r=t?.find(({name:t})=>t===e)||null;return r?r.value:null});if(!s)return null;let a=s;return"string"==typeof s&&s.startsWith(g)&&(a=h(s.substring(g.length))),a},setItem:async(t,a)=>{t.endsWith("-code-verifier")&&await y({getAll:r,setAll:s,setItems:{[t]:a},removedItems:{}},{cookieOptions:e?.cookieOptions??null,cookieEncoding:u}),p[t]=a,delete m[t]},removeItem:async e=>{delete p[e],m[e]=!0}}}:{getAll:r,setAll:s,setItems:p,removedItems:m,storage:{isServer:!1,getItem:async e=>{let t=await r([e]),s=await d(e,async e=>{let r=t?.find(({name:t})=>t===e)||null;return r?r.value:null});if(!s)return null;let a=s;return s.startsWith(g)&&(a=h(s.substring(g.length))),a},setItem:async(t,a)=>{let n=await r([t]),l=new Set((n?.map(({name:e})=>e)||[]).filter(e=>o(e,t))),d=a;"base64url"===u&&(d=g+f(a));let p=c(t,d);p.forEach(({name:e})=>{l.delete(e)});let m={...i,...e?.cookieOptions,maxAge:0},h={...i,...e?.cookieOptions,maxAge:i.maxAge};delete m.name,delete h.name;let y=[...[...l].map(e=>({name:e,value:"",options:m})),...p.map(({name:e,value:t})=>({name:e,value:t,options:h}))];y.length>0&&await s(y)},removeItem:async t=>{let a=await r([t]),n=(a?.map(({name:e})=>e)||[]).filter(e=>o(e,t)),l={...i,...e?.cookieOptions,maxAge:0};delete l.name,n.length>0&&await s(n.map(e=>({name:e,value:"",options:l})))}}}}({...void 0,cookieEncoding:(void 0)??"base64url"},!1),m=(0,s.createClient)(e,r,{...void 0,global:{...void 0,headers:{...void 0,"X-Client-Info":"supabase-ssr/0.8.0 createBrowserClient"}},auth:{...void 0,...null,flowType:"pkce",autoRefreshToken:n(),detectSessionInUrl:n(),persistSession:!0,storage:p,...null}});return u&&(t=m),m}("https://njtwnvfryagpyarhmymv.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5qdHdudmZyeWFncHlhcmhteW12Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYwODIzMTcsImV4cCI6MjA4MTY1ODMxN30.n_BcdKM9YYixWWxiWSeQdEalqvZ4MvT8H_J10FutUbk")}e.s(["createSupabaseBrowserClient",()=>x],2410)},16280,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(18566),a=e.i(2410);function n({campaignId:e,monsterId:s,currentUrl:n,onUploaded:i}){let l=(0,a.createSupabaseBrowserClient)(),[o,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(null);async function p(t){let r;if(u(null),!t.type.startsWith("image/"))return void u("Please choose an image file.");if(t.size>5242880)return void u("Image too large (max 5MB).");let a=(r=t.name.toLowerCase().split(".")).length>1?r.pop():"image/png"===t.type?"png":"image/webp"===t.type?"webp":"jpg",n=`${e}/${s}/cover.${a}`;c(!0);let{error:o}=await l.storage.from("monsters").upload(n,t,{upsert:!0,contentType:t.type});if(o){c(!1),u(o.message);return}let{data:d}=l.storage.from("monsters").getPublicUrl(n);c(!1),i(d.publicUrl)}return(0,t.jsxs)("div",{className:"space-y-2",children:[n?(0,t.jsx)("img",{src:n,alt:"Monster",className:"w-full max-h-[240px] object-contain rounded-lg border bg-white"}):(0,t.jsx)("div",{className:"w-full h-40 rounded-lg border flex items-center justify-center text-sm text-gray-600",children:"No image yet"}),(0,t.jsx)("input",{type:"file",accept:"image/*",disabled:o,onChange:e=>{let t=e.target.files?.[0];t&&p(t),e.currentTarget.value=""}}),o&&(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Uploading…"}),d&&(0,t.jsx)("p",{className:"text-sm text-red-600",children:d})]})}function i(e,t){return("string"==typeof e?e:"").slice(0,t)}function l({title:e,value:r,disabled:s,onChange:a}){let n=(Array.isArray(r)?r:[]).map(e=>({name:i(e?.name,120),text:i(e?.text,2e3)}));function l(e,t){a(n.map((r,s)=>s===e?{...r,...t}:r))}return(0,t.jsxs)("div",{className:"border rounded-lg p-3 space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{className:"font-medium",children:e}),(0,t.jsx)("button",{className:"border rounded-md px-3 py-2",type:"button",disabled:s,onClick:function(){a([...n,{name:"",text:""}])},children:"Add"})]}),0===n.length&&(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"None yet."}),(0,t.jsx)("div",{className:"space-y-3",children:n.map((e,r)=>(0,t.jsxs)("div",{className:"border rounded-md p-3 space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsx)("input",{className:"border rounded-md p-2 w-full",placeholder:"Name",value:e.name,disabled:s,onChange:e=>l(r,{name:e.target.value})}),(0,t.jsx)("button",{className:"border rounded-md px-3 py-2 text-red-600",type:"button",disabled:s,onClick:()=>{a(n.filter((e,t)=>t!==r))},children:"Remove"})]}),(0,t.jsx)("textarea",{className:"border rounded-md p-2 w-full",rows:3,placeholder:"Rules text",value:e.text,disabled:s,onChange:e=>l(r,{text:e.target.value})})]},r))})]})}let o={PHY:10,MEN:10,MAG:10,INT:10,DIP:10,ICY:10};function c(e){let t=Number(e);return Number.isFinite(t)?t:0}function d(e,t){return e.split(",").map(e=>e.trim()).filter(e=>e.length>0).slice(0,t)}function u(e){return Array.isArray(e)?e.map(e=>({name:"string"==typeof e?.name?e.name:"",text:"string"==typeof e?.text?e.text:""})).filter(e=>e.name.trim()||e.text.trim()):[]}function p({campaignId:e,monster:a,characters:i}){let p=(0,s.useRouter)(),m=(0,r.useMemo)(()=>{let e=a.data??{},t=e.sheet??{},r=Array.isArray(t.resistances)?t.resistances:Array.isArray(e.resistances)?e.resistances:[],s=Array.isArray(t.immunities)?t.immunities:Array.isArray(e.immunities)?e.immunities:[];return{name:a.name??"Monster",tags:(a.tags??[]).join(", "),imageUrl:e.imageUrl??"",type:e.type??"",size:e.size??"",alignment:e.alignment??"",ac:e.ac??"",hp:e.hp??"",speed:e.speed??"",strengths:Array.isArray(e.strengths)?e.strengths.join(", "):"",weaknesses:Array.isArray(e.weaknesses)?e.weaknesses.join(", "):"",resistances:Array.isArray(r)?r.join(", "):"",immunities:Array.isArray(s)?s.join(", "):"",senses:e.senses??"",languages:e.languages??"",gm_notes:a.gm_notes??"",stats:{...o,...e.stats??{}},description:"string"==typeof t.description?t.description:"",traits:u(t.traits),actions:u(t.actions),reactions:u(t.reactions),legendary_actions:u(t.legendary_actions)}},[a]),[f,h]=(0,r.useState)(m),[g,y]=(0,r.useState)(!1),[x,b]=(0,r.useState)(null),[v,j]=(0,r.useState)(null),[N,w]=(0,r.useState)(!1),[C,k]=(0,r.useState)(!0),[S,A]=(0,r.useState)(i[0]?.id??""),[I,P]=(0,r.useState)("Unsorted"),[O,E]=(0,r.useState)("1");async function T(t){b(null),j(null),y(!0);let r=await fetch("/api/monsters/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({campaignId:e,monsterId:a.id,patch:t})}),s=await r.json().catch(()=>({}));return(y(!1),r.ok)?(j("Saved."),p.refresh(),!0):(b(s?.error??"Failed to save monster."),!1)}async function _(){let e=f.name.trim();if(!e)return b("Name cannot be empty.");let t=d(f.tags,20),r=d(f.strengths,50),s=d(f.weaknesses,50),n=d(f.resistances,50),i=d(f.immunities,50),l={...a.data??{},imageUrl:f.imageUrl||null,type:f.type,size:f.size,alignment:f.alignment,ac:""===f.ac?null:c(String(f.ac)),hp:""===f.hp?null:c(String(f.hp)),speed:f.speed,strengths:r,weaknesses:s,senses:f.senses,languages:f.languages,stats:{PHY:c(String(f.stats.PHY)),MEN:c(String(f.stats.MEN)),MAG:c(String(f.stats.MAG)),INT:c(String(f.stats.INT)),DIP:c(String(f.stats.DIP)),ICY:c(String(f.stats.ICY))},sheet:{...a.data?.sheet??{},description:f.description??"",resistances:n,immunities:i,traits:f.traits??[],actions:f.actions??[],reactions:f.reactions??[],legendary_actions:f.legendary_actions??[]}};await T({name:e,tags:t,gm_notes:f.gm_notes,data:l})}async function $(){if(!confirm("Delete this monster? This cannot be undone."))return;b(null),y(!0);let t=await fetch("/api/monsters/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({campaignId:e,monsterId:a.id})}),r=await t.json().catch(()=>({}));(y(!1),t.ok)?(p.push(`/app/c/${e}/monsters`),p.refresh()):b(r?.error??"Failed to delete monster.")}async function U(){b(null),j(null);let t=Number(O);if(![1,2,3].includes(t))return b("Reveal level must be 1, 2, or 3.");if(!N&&!S)return b("Pick a character (or push to all).");y(!0);let r=await fetch("/api/bestiary/push",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({campaignId:e,monsterId:a.id,characterId:N?null:S,category:I,revealLevel:t,allCharacters:N,skipNpc:C})}),s=await r.json().catch(()=>({}));(y(!1),r.ok)?j(N?`Pushed to bestiary (${s?.count??"?"} characters).`:"Pushed to bestiary."):b(s?.error??"Failed to push to bestiary.")}return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("section",{className:"border rounded-xl p-4 space-y-3",children:[(0,t.jsx)("h2",{className:"font-medium",children:"Monster sheet"}),x&&(0,t.jsx)("p",{className:"text-sm text-red-600",children:x}),v&&(0,t.jsx)("p",{className:"text-sm text-green-700",children:v}),(0,t.jsxs)("div",{className:"grid gap-2 sm:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-xs text-gray-600",children:"Name"}),(0,t.jsx)("input",{className:"border rounded-md p-2 w-full",value:f.name,onChange:e=>h(t=>({...t,name:e.target.value})),disabled:g})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-xs text-gray-600",children:"Tags (comma-separated)"}),(0,t.jsx)("input",{className:"border rounded-md p-2 w-full",value:f.tags,onChange:e=>h(t=>({...t,tags:e.target.value})),disabled:g})]}),(0,t.jsxs)("div",{className:"sm:col-span-2 border rounded-lg p-3 space-y-2",children:[(0,t.jsx)("div",{className:"font-medium",children:"Image"}),(0,t.jsx)(n,{campaignId:e,monsterId:a.id,currentUrl:f.imageUrl,onUploaded:async e=>{h(t=>({...t,imageUrl:e}));let t={...a.data??{},imageUrl:e};await T({data:t})}}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Uploading saves automatically."})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-xs text-gray-600",children:"Type"}),(0,t.jsx)("input",{className:"border rounded-md p-2 w-full",value:f.type,onChange:e=>h(t=>({...t,type:e.target.value})),disabled:g})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-xs text-gray-600",children:"Size"}),(0,t.jsx)("input",{className:"border rounded-md p-2 w-full",value:f.size,onChange:e=>h(t=>({...t,size:e.target.value})),disabled:g})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-xs text-gray-600",children:"Alignment"}),(0,t.jsx)("input",{className:"border rounded-md p-2 w-full",value:f.alignment,onChange:e=>h(t=>({...t,alignment:e.target.value})),disabled:g})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-xs text-gray-600",children:"AC"}),(0,t.jsx)("input",{className:"border rounded-md p-2 w-full",value:String(f.ac),onChange:e=>h(t=>({...t,ac:e.target.value})),disabled:g})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-xs text-gray-600",children:"HP"}),(0,t.jsx)("input",{className:"border rounded-md p-2 w-full",value:String(f.hp),onChange:e=>h(t=>({...t,hp:e.target.value})),disabled:g})]}),(0,t.jsxs)("div",{className:"space-y-1 sm:col-span-2",children:[(0,t.jsx)("label",{className:"text-xs text-gray-600",children:"Speed"}),(0,t.jsx)("input",{className:"border rounded-md p-2 w-full",value:f.speed,onChange:e=>h(t=>({...t,speed:e.target.value})),disabled:g})]})]}),(0,t.jsxs)("div",{className:"border rounded-lg p-3 space-y-2",children:[(0,t.jsx)("div",{className:"font-medium",children:"Stats"}),(0,t.jsx)("div",{className:"grid gap-2 grid-cols-2 sm:grid-cols-6",children:["PHY","MEN","MAG","INT","DIP","ICY"].map(e=>(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-xs text-gray-600",children:e}),(0,t.jsx)("input",{className:"border rounded-md p-2 w-full",value:String(f.stats[e]),onChange:t=>h(r=>({...r,stats:{...r.stats,[e]:t.target.value}})),disabled:g})]},e))})]}),(0,t.jsxs)("div",{className:"grid gap-2 sm:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-xs text-gray-600",children:"Strengths (comma-separated)"}),(0,t.jsx)("input",{className:"border rounded-md p-2 w-full",value:f.strengths,onChange:e=>h(t=>({...t,strengths:e.target.value})),disabled:g})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-xs text-gray-600",children:"Weaknesses (comma-separated)"}),(0,t.jsx)("input",{className:"border rounded-md p-2 w-full",value:f.weaknesses,onChange:e=>h(t=>({...t,weaknesses:e.target.value})),disabled:g})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-xs text-gray-600",children:"Resistances (comma-separated)"}),(0,t.jsx)("input",{className:"border rounded-md p-2 w-full",value:f.resistances,onChange:e=>h(t=>({...t,resistances:e.target.value})),disabled:g})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-xs text-gray-600",children:"Immunities (comma-separated)"}),(0,t.jsx)("input",{className:"border rounded-md p-2 w-full",value:f.immunities,onChange:e=>h(t=>({...t,immunities:e.target.value})),disabled:g})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-xs text-gray-600",children:"Senses"}),(0,t.jsx)("input",{className:"border rounded-md p-2 w-full",value:f.senses,onChange:e=>h(t=>({...t,senses:e.target.value})),disabled:g})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-xs text-gray-600",children:"Languages"}),(0,t.jsx)("input",{className:"border rounded-md p-2 w-full",value:f.languages,onChange:e=>h(t=>({...t,languages:e.target.value})),disabled:g})]})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-xs text-gray-600",children:"Description"}),(0,t.jsx)("textarea",{className:"border rounded-md p-2 w-full",rows:4,value:f.description,onChange:e=>h(t=>({...t,description:e.target.value})),disabled:g})]}),(0,t.jsx)(l,{title:"Traits",value:f.traits,disabled:g,onChange:e=>h(t=>({...t,traits:e}))}),(0,t.jsx)(l,{title:"Actions",value:f.actions,disabled:g,onChange:e=>h(t=>({...t,actions:e}))}),(0,t.jsx)(l,{title:"Reactions",value:f.reactions,disabled:g,onChange:e=>h(t=>({...t,reactions:e}))}),(0,t.jsx)(l,{title:"Legendary actions",value:f.legendary_actions,disabled:g,onChange:e=>h(t=>({...t,legendary_actions:e}))}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-xs text-gray-600",children:"GM notes"}),(0,t.jsx)("textarea",{className:"border rounded-md p-2 w-full",rows:3,value:f.gm_notes,onChange:e=>h(t=>({...t,gm_notes:e.target.value})),disabled:g})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{className:"border rounded-md px-3 py-2",type:"button",disabled:g,onClick:_,children:g?"Saving…":"Save"}),(0,t.jsx)("button",{className:"border rounded-md px-3 py-2 text-red-600",type:"button",disabled:g,onClick:$,children:"Delete"})]})]}),(0,t.jsxs)("section",{className:"border rounded-xl p-4 space-y-3",children:[(0,t.jsx)("h2",{className:"font-medium",children:"Push to character bestiary"}),(0,t.jsxs)("div",{className:"grid gap-3 sm:grid-cols-2",children:[(0,t.jsxs)("label",{className:"border rounded-lg p-3 flex items-start gap-3",children:[(0,t.jsx)("input",{type:"checkbox",className:"mt-1",checked:N,onChange:e=>w(e.target.checked),disabled:g}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:"Push to all characters"}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"Sends/updates this creature for every character in the campaign."})]})]}),(0,t.jsxs)("label",{className:"border rounded-lg p-3 flex items-start gap-3",children:[(0,t.jsx)("input",{type:"checkbox",className:"mt-1",checked:C,onChange:e=>k(e.target.checked),disabled:g||!N}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:"Skip NPC characters"}),(0,t.jsxs)("div",{className:"text-xs text-gray-600",children:["When pushing to all, ignores characters where ",(0,t.jsx)("code",{children:"characters.sheet.isNpc"})," is true."]})]})]})]}),(0,t.jsxs)("div",{className:"grid gap-2 sm:grid-cols-3 items-start",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-xs text-gray-600",children:"Character"}),(0,t.jsxs)("select",{className:"border rounded-md p-2 w-full",value:S,onChange:e=>A(e.target.value),disabled:g||N,children:[(0,t.jsx)("option",{value:"",children:"Select character…"}),i.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]}),N&&(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"Disabled because “Push to all characters” is enabled."})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-xs text-gray-600",children:"Category"}),(0,t.jsx)("input",{className:"border rounded-md p-2 w-full",value:I,onChange:e=>P(e.target.value),disabled:g}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 pt-2",children:[(0,t.jsx)("button",{type:"button",className:"border rounded-md px-3 py-1 text-sm",disabled:g,onClick:()=>P("Creatures"),children:"Creatures"}),(0,t.jsx)("button",{type:"button",className:"border rounded-md px-3 py-1 text-sm",disabled:g,onClick:()=>P("Humanoids"),children:"Humanoids"})]})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-xs text-gray-600",children:"Reveal level"}),(0,t.jsxs)("select",{className:"border rounded-md p-2 w-full",value:O,onChange:e=>E(e.target.value),disabled:g,children:[(0,t.jsx)("option",{value:"1",children:"1 — Image only"}),(0,t.jsx)("option",{value:"2",children:"2 — Image + strengths/weaknesses"}),(0,t.jsx)("option",{value:"3",children:"3 — Full sheet"})]}),(0,t.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,t.jsx)("button",{type:"button",className:"border rounded-md px-3 py-1 text-sm",disabled:g,onClick:()=>E("1"),children:"L1"}),(0,t.jsx)("button",{type:"button",className:"border rounded-md px-3 py-1 text-sm",disabled:g,onClick:()=>E("2"),children:"L2"}),(0,t.jsx)("button",{type:"button",className:"border rounded-md px-3 py-1 text-sm",disabled:g,onClick:()=>E("3"),children:"L3"})]})]})]}),(0,t.jsx)("button",{className:"border rounded-md px-3 py-2",type:"button",disabled:g,onClick:U,children:g?"Pushing…":N?"Push / Update all":"Push / Update"}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"This writes a redacted snapshot into the character’s bestiary entry (based on reveal level)."})]})]})}e.s(["default",()=>p],16280)}]);