(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,11268,e=>{"use strict";var i=e.i(43476),s=e.i(71645),a=e.i(18566);let t=["physical","mental","magic","intelligence","diplomacy","incivility"],l=[{key:"acrobatics",label:"Acrobatics",ability:"physical"},{key:"athletics",label:"Athletics",ability:"physical"},{key:"communication",label:"Communication",ability:"diplomacy"},{key:"deception",label:"Deception",ability:"incivility"},{key:"history",label:"History",ability:"intelligence"},{key:"identification",label:"Identification",ability:"magic"},{key:"insight",label:"Insight",ability:"diplomacy"},{key:"intimidation",label:"Intimidation",ability:"incivility"},{key:"investigation",label:"Investigation",ability:"intelligence"},{key:"learning",label:"Learning",ability:"mental"},{key:"perception",label:"Perception",ability:"mental"},{key:"performance",label:"Performance",ability:"incivility"},{key:"persuasion",label:"Persuasion",ability:"diplomacy"},{key:"sleight_of_hand",label:"Sleight of Hand",ability:"physical"},{key:"spells",label:"Spells",ability:"magic"}],r=[{key:"hpMax",label:"Max HP"},{key:"ac",label:"AC"},{key:"initiative",label:"Initiative"},{key:"speed",label:"Speed"},{key:"passivePerception",label:"Passive perception"}],n=["main_hand","offhand","head","body","hands","legs","feet","accessory"];function d(){return Math.random().toString(16).slice(2)+"-"+Date.now().toString(16)}function c(e,i=0){let s=Number(e);return Number.isFinite(s)?Math.trunc(s):i}function o(e){switch(e){case"main_hand":return"Main hand";case"offhand":return"Offhand";case"head":return"Head";case"body":return"Body";case"hands":return"Hands";case"legs":return"Legs";case"feet":return"Feet";case"accessory":return"Accessory"}}function m(e){return e>=0?`+${e}`:`${e}`}function p(e){if("equipment"!==e.kind){let{slot:i,equipped:s,modifiers:a,...t}=e;return t}return{...e,slot:e.slot??"main_hand",equipped:!!e.equipped&&(e.qty??0)>0,modifiers:e.modifiers??{}}}function u(e){let i=e.map(p);for(let e of i)"equipment"===e.kind&&(e.qty??0)<=0&&e.equipped&&(e.equipped=!1);let s=new Map;for(let e of i){if("equipment"!==e.kind)continue;let i=e.slot??"main_hand";s.has(i)||s.set(i,[]),s.get(i).push(e)}for(let[e,i]of s.entries()){let s=i.filter(e=>e.equipped),a="accessory"===e?2:1;if(s.length<=a)continue;let t=0;for(let e of i)e.equipped&&(t<a?t++:e.equipped=!1)}return i}function x({campaignId:e,characterId:p,initialItems:x}){let h=(0,a.useRouter)(),[y,v]=(0,s.useState)(()=>u(function(e){if(!Array.isArray(e))return[];let i=[];for(let s of e){if(!s||"object"!=typeof s)continue;let e=s.kind;if("equipment"===e||"consumable"===e||"key"===e||"other"===e){let a="string"==typeof s.id?s.id:d(),t="string"==typeof s.name?s.name:"(unnamed)",l=Number.isFinite(Number(s.qty))?Math.max(0,Math.trunc(Number(s.qty))):1,r={id:a,kind:e,name:t,qty:l,description:"string"==typeof s.description?s.description:""};"equipment"===e&&(r.slot="string"==typeof s.slot?s.slot:"main_hand",r.equipped=!!s.equipped&&l>0,r.modifiers=s.modifiers&&"object"==typeof s.modifiers?s.modifiers:{}),i.push(r);continue}let a="string"==typeof s.id?s.id:d(),t="string"==typeof s.name?s.name:"(unnamed)",l=Number.isFinite(Number(s.qty))?Math.max(0,Math.trunc(Number(s.qty))):1,r="string"==typeof s.notes?s.notes:"";i.push({id:a,kind:"other",name:t,qty:l,description:r})}return i}(x))),[f,g]=(0,s.useState)("equipment"),[b,j]=(0,s.useState)(""),[N,k]=(0,s.useState)("1"),[w,q]=(0,s.useState)(""),[C,O]=(0,s.useState)("main_hand"),[M,S]=(0,s.useState)(()=>Object.fromEntries(t.map(e=>[e,"0"]))),[P,E]=(0,s.useState)(()=>Object.fromEntries(t.map(e=>[e,"0"]))),[B,I]=(0,s.useState)(()=>Object.fromEntries(l.map(e=>[e.key,"0"]))),[A,_]=(0,s.useState)(()=>Object.fromEntries(r.map(e=>[e.key,"0"]))),[T,F]=(0,s.useState)(!1),[H,$]=(0,s.useState)(null),D=(0,s.useMemo)(()=>{let e=y.filter(e=>"equipment"===e.kind),i=y.filter(e=>"consumable"===e.kind);return{eq:e,con:i,key:y.filter(e=>"key"===e.kind),oth:y.filter(e=>"other"===e.kind)}},[y]),z=(0,s.useMemo)(()=>{let e=new Map;for(let i of n)e.set(i,[]);for(let i of D.eq){let s=i.slot??"main_hand";e.get(s)?.push(i)}return e},[D.eq]);async function L(i){$(null),F(!0);let s=u(i),a=await fetch("/api/characters/items/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({campaignId:e,characterId:p,items:s})}),t=await a.json().catch(()=>({}));return(F(!1),a.ok)?(v(s),h.refresh(),!0):($(t?.error??"Failed to save items."),!1)}async function R(e){e.preventDefault();let i=b.trim();if(!i)return $("Enter an item name.");let s=Math.max(0,Math.trunc(Number(N)));if(!Number.isFinite(Number(N))||!Number.isInteger(Number(N))||s<0)return $("Quantity must be a whole number ≥ 0.");let a={id:d(),kind:f,name:i,qty:"key"===f?1:s,description:w.trim()};"equipment"===f&&(a.slot=C,a.equipped=!1,a.modifiers=function(){let e={},i={},s={},a={};for(let i of t){let s=c(M[i]??"0",0);0!==s&&(e[i]=s)}for(let e of t){let s=c(P[e]??"0",0);0!==s&&(i[e]=s)}for(let e of l){let i=c(B[e.key]??"0",0);0!==i&&(s[e.key]=i)}for(let e of r){let i=c(A[e.key]??"0",0);0!==i&&(a[e.key]=i)}let n={};return Object.keys(e).length&&(n.abilities=e),Object.keys(i).length&&(n.saves=i),Object.keys(s).length&&(n.skills=s),Object.keys(a).length&&(n.derived=a),n}());let n=[a,...y];await L(n)&&(j(""),k("1"),q(""),S(Object.fromEntries(t.map(e=>[e,"0"]))),E(Object.fromEntries(t.map(e=>[e,"0"]))),I(Object.fromEntries(l.map(e=>[e.key,"0"]))),_(Object.fromEntries(r.map(e=>[e.key,"0"]))))}async function K(e){await L(y.filter(i=>i.id!==e))}async function J(e,i){let s=y.map(s=>{if(s.id!==e)return s;let a=Math.max(0,i);return"equipment"===s.kind?{...s,qty:a,equipped:a>0&&s.equipped}:"key"===s.kind?{...s,qty:1}:{...s,qty:a}});await L(s)}async function V(e,i){let s=y.map(s=>s.id===e?{...s,...i}:s);await L(s)}async function U(e,i){let s=y.find(i=>i.id===e);if(!s||"equipment"!==s.kind)return;let a=s.slot??"main_hand",t=y.map(s=>s.id===e?{...s,equipped:i&&(s.qty??0)>0}:s);if(i)if("accessory"===a){let i=t.filter(e=>"equipment"===e.kind&&"accessory"===e.slot&&e.equipped);if(i.length>2){let s=i.find(i=>i.id!==e);if(s){let e=t.findIndex(e=>e.id===s.id);e>=0&&(t[e]={...t[e],equipped:!1})}}}else for(let i=0;i<t.length;i++){let s=t[i];s.id!==e&&"equipment"===s.kind&&(s.slot??"main_hand")===a&&s.equipped&&(t[i]={...s,equipped:!1})}await L(t)}function Q(e){let s="equipment"===e.kind,a="consumable"===e.kind||"other"===e.kind||"equipment"===e.kind,n=s?function(e){let i=!!e.equipped,s=[],a=e.modifiers?.abilities??{},n=e.modifiers?.saves??{},d=e.modifiers?.skills??{},c=e.modifiers?.derived??{};for(let e of t){let i=a[e];Number.isInteger(i)&&0!==i&&s.push(`Core ${e}: ${m(i)}`)}for(let e of t){let i=n[e];Number.isInteger(i)&&0!==i&&s.push(`Save ${e}: ${m(i)}`)}for(let e of l){let i=d[e.key];Number.isInteger(i)&&0!==i&&s.push(`${e.label}: ${m(i)}`)}for(let e of r){let i=c[e.key];Number.isInteger(i)&&0!==i&&s.push(`${e.label}: ${m(i)}`)}return 0===s.length&&s.push("No modifiers set."),{active:i,lines:s}}(e):null;return(0,i.jsxs)("li",{className:"border rounded-lg p-3 space-y-2",children:[(0,i.jsxs)("div",{className:"flex items-start justify-between gap-3 flex-wrap",children:[(0,i.jsxs)("div",{className:"space-y-1",children:[(0,i.jsx)("div",{className:"font-medium",children:e.name}),(0,i.jsxs)("div",{className:"text-xs text-gray-500",children:[e.kind.toUpperCase(),s&&e.slot?` \xb7 slot: ${o(e.slot)}`:"",s?` \xb7 equipped: ${String(!!e.equipped)}`:""]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[s?(0,i.jsxs)("label",{className:"flex items-center gap-2 select-none text-sm",children:[(0,i.jsx)("input",{type:"checkbox",checked:!!e.equipped,disabled:T||(e.qty??0)<=0,onChange:i=>U(e.id,i.target.checked)}),"Equipped"]}):null,a?(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("button",{className:"border rounded-md px-2 py-1 hover:bg-gray-50 disabled:opacity-50",type:"button",disabled:T||e.qty<=0||"key"===e.kind,onClick:()=>J(e.id,e.qty-1),children:"−"}),(0,i.jsx)("div",{className:"w-10 text-center",children:e.qty}),(0,i.jsx)("button",{className:"border rounded-md px-2 py-1 hover:bg-gray-50 disabled:opacity-50",type:"button",disabled:T||"key"===e.kind,onClick:()=>J(e.id,e.qty+1),children:"+"})]}):null,(0,i.jsx)("button",{className:"border rounded-md px-3 py-1 hover:bg-gray-50 disabled:opacity-50",type:"button",disabled:T,onClick:()=>K(e.id),children:"Delete"})]})]}),(0,i.jsx)("div",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:e.description?.trim()?e.description:(0,i.jsx)("span",{className:"text-gray-400",children:"No description."})}),s&&n?(0,i.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,i.jsxs)("div",{className:"font-medium",children:["Active modifiers ",n.active?"(active)":"(inactive)"]}),(0,i.jsxs)("ul",{className:"list-disc pl-5",children:[n.lines.slice(0,6).map((e,s)=>(0,i.jsx)("li",{children:e},s)),n.lines.length>6?(0,i.jsxs)("li",{children:["…and ",n.lines.length-6," more"]}):null]}),n.active?null:(0,i.jsx)("div",{className:"text-gray-500",children:"Equip the item to activate modifiers."})]}):null,(0,i.jsxs)("details",{className:"border rounded-md p-2",children:[(0,i.jsx)("summary",{className:"cursor-pointer text-sm",children:"Edit item"}),(0,i.jsxs)("div",{className:"mt-3 space-y-4",children:[(0,i.jsx)("textarea",{className:"border rounded-md p-2 w-full",rows:3,defaultValue:e.description??"",placeholder:"Description",onBlur:i=>V(e.id,{description:i.target.value})}),s?(0,i.jsx)("div",{className:"grid gap-2 sm:grid-cols-2",children:(0,i.jsxs)("label",{className:"space-y-1",children:[(0,i.jsx)("div",{className:"text-xs text-gray-600",children:"Slot"}),(0,i.jsxs)("select",{className:"border rounded-md p-2 w-full",value:e.slot??"main_hand",disabled:T,onChange:i=>V(e.id,{slot:i.target.value}),children:[(0,i.jsx)("option",{value:"main_hand",children:"Main hand"}),(0,i.jsx)("option",{value:"offhand",children:"Offhand"}),(0,i.jsx)("option",{value:"head",children:"Head"}),(0,i.jsx)("option",{value:"body",children:"Body"}),(0,i.jsx)("option",{value:"hands",children:"Hands"}),(0,i.jsx)("option",{value:"legs",children:"Legs"}),(0,i.jsx)("option",{value:"feet",children:"Feet"}),(0,i.jsx)("option",{value:"accessory",children:"Accessory"})]})]})}):null,s?(0,i.jsxs)("div",{className:"border rounded-lg p-3 space-y-3",children:[(0,i.jsx)("div",{className:"text-sm font-medium",children:"Modifiers"}),(0,i.jsx)("div",{className:"text-xs text-gray-600",children:"Only equipped equipment applies modifiers. Zero values are ignored."}),(0,i.jsxs)("div",{className:"grid gap-3 lg:grid-cols-3",children:[(0,i.jsxs)("div",{className:"border rounded-lg p-3 space-y-2",children:[(0,i.jsx)("div",{className:"text-sm font-medium",children:"Core stats"}),t.map(s=>(0,i.jsxs)("label",{className:"flex items-center justify-between gap-2",children:[(0,i.jsx)("span",{className:"text-sm capitalize",children:s}),(0,i.jsx)("input",{className:"border rounded-md p-2 w-24",defaultValue:String(e.modifiers?.abilities?.[s]??0),inputMode:"numeric",onBlur:i=>{let a=c(i.target.value,0),t={...e.modifiers??{},abilities:{...e.modifiers?.abilities??{},[s]:a}};V(e.id,{modifiers:t})}})]},s))]}),(0,i.jsxs)("div",{className:"border rounded-lg p-3 space-y-2",children:[(0,i.jsx)("div",{className:"text-sm font-medium",children:"Saving throws"}),t.map(s=>(0,i.jsxs)("label",{className:"flex items-center justify-between gap-2",children:[(0,i.jsx)("span",{className:"text-sm capitalize",children:s}),(0,i.jsx)("input",{className:"border rounded-md p-2 w-24",defaultValue:String(e.modifiers?.saves?.[s]??0),inputMode:"numeric",onBlur:i=>{let a=c(i.target.value,0),t={...e.modifiers??{},saves:{...e.modifiers?.saves??{},[s]:a}};V(e.id,{modifiers:t})}})]},s))]}),(0,i.jsxs)("div",{className:"border rounded-lg p-3 space-y-2",children:[(0,i.jsx)("div",{className:"text-sm font-medium",children:"Derived"}),r.map(s=>(0,i.jsxs)("label",{className:"flex items-center justify-between gap-2",children:[(0,i.jsx)("span",{className:"text-sm",children:s.label}),(0,i.jsx)("input",{className:"border rounded-md p-2 w-24",defaultValue:String(e.modifiers?.derived?.[s.key]??0),inputMode:"numeric",onBlur:i=>{let a=c(i.target.value,0),t={...e.modifiers??{},derived:{...e.modifiers?.derived??{},[s.key]:a}};V(e.id,{modifiers:t})}})]},s.key))]})]}),(0,i.jsxs)("details",{className:"border rounded-md p-2",children:[(0,i.jsx)("summary",{className:"cursor-pointer text-sm",children:"Skill modifiers (advanced)"}),(0,i.jsx)("div",{className:"mt-2 grid gap-2 sm:grid-cols-2 lg:grid-cols-3",children:l.map(s=>(0,i.jsxs)("label",{className:"flex items-center justify-between gap-2",children:[(0,i.jsx)("span",{className:"text-sm",children:s.label}),(0,i.jsx)("input",{className:"border rounded-md p-2 w-24",defaultValue:String(e.modifiers?.skills?.[s.key]??0),inputMode:"numeric",onBlur:i=>{let a=c(i.target.value,0),t={...e.modifiers??{},skills:{...e.modifiers?.skills??{},[s.key]:a}};V(e.id,{modifiers:t})}})]},s.key))})]})]}):null,(0,i.jsx)("div",{className:"text-xs text-gray-600",children:"Edits save when you click out of a field."})]})]})]},e.id)}return(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("form",{onSubmit:R,className:"border rounded-xl p-4 space-y-3",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[(0,i.jsx)("h3",{className:"font-medium",children:"Add item"}),T?(0,i.jsx)("div",{className:"text-xs text-gray-500",children:"Saving…"}):null]}),(0,i.jsxs)("div",{className:"grid gap-2 sm:grid-cols-3",children:[(0,i.jsxs)("label",{className:"space-y-1",children:[(0,i.jsx)("div",{className:"text-xs text-gray-600",children:"Kind"}),(0,i.jsxs)("select",{className:"border rounded-md p-2 w-full",value:f,onChange:e=>g(e.target.value),children:[(0,i.jsx)("option",{value:"equipment",children:"Equipment"}),(0,i.jsx)("option",{value:"consumable",children:"Consumable"}),(0,i.jsx)("option",{value:"key",children:"Key item"}),(0,i.jsx)("option",{value:"other",children:"Other"})]})]}),(0,i.jsxs)("label",{className:"space-y-1 sm:col-span-2",children:[(0,i.jsx)("div",{className:"text-xs text-gray-600",children:"Name"}),(0,i.jsx)("input",{className:"border rounded-md p-2 w-full",placeholder:"Item name",value:b,onChange:e=>j(e.target.value)})]})]}),(0,i.jsxs)("div",{className:"grid gap-2 sm:grid-cols-3",children:[(0,i.jsxs)("label",{className:"space-y-1",children:[(0,i.jsx)("div",{className:"text-xs text-gray-600",children:"Qty"}),(0,i.jsx)("input",{className:"border rounded-md p-2 w-full",value:"key"===f?"1":N,onChange:e=>k(e.target.value),inputMode:"numeric",disabled:"key"===f})]}),"equipment"===f?(0,i.jsxs)("label",{className:"space-y-1 sm:col-span-2",children:[(0,i.jsx)("div",{className:"text-xs text-gray-600",children:"Slot"}),(0,i.jsxs)("select",{className:"border rounded-md p-2 w-full",value:C,onChange:e=>O(e.target.value),children:[(0,i.jsx)("option",{value:"main_hand",children:"Main hand"}),(0,i.jsx)("option",{value:"offhand",children:"Offhand"}),(0,i.jsx)("option",{value:"head",children:"Head"}),(0,i.jsx)("option",{value:"body",children:"Body"}),(0,i.jsx)("option",{value:"hands",children:"Hands"}),(0,i.jsx)("option",{value:"legs",children:"Legs"}),(0,i.jsx)("option",{value:"feet",children:"Feet"}),(0,i.jsx)("option",{value:"accessory",children:"Accessory"})]})]}):(0,i.jsx)("div",{className:"sm:col-span-2"})]}),(0,i.jsx)("textarea",{className:"border rounded-md p-2 w-full",rows:3,placeholder:"Description",value:w,onChange:e=>q(e.target.value)}),"equipment"===f?(0,i.jsxs)("details",{className:"border rounded-md p-2",children:[(0,i.jsx)("summary",{className:"cursor-pointer text-sm",children:"Set modifiers (optional)"}),(0,i.jsxs)("div",{className:"mt-3 grid gap-3 lg:grid-cols-3",children:[(0,i.jsxs)("div",{className:"border rounded-lg p-3 space-y-2",children:[(0,i.jsx)("div",{className:"text-sm font-medium",children:"Core stats"}),t.map(e=>(0,i.jsxs)("label",{className:"flex items-center justify-between gap-2",children:[(0,i.jsx)("span",{className:"text-sm capitalize",children:e}),(0,i.jsx)("input",{className:"border rounded-md p-2 w-24",value:M[e]??"0",inputMode:"numeric",onChange:i=>S(s=>({...s,[e]:i.target.value}))})]},e))]}),(0,i.jsxs)("div",{className:"border rounded-lg p-3 space-y-2",children:[(0,i.jsx)("div",{className:"text-sm font-medium",children:"Saving throws"}),t.map(e=>(0,i.jsxs)("label",{className:"flex items-center justify-between gap-2",children:[(0,i.jsx)("span",{className:"text-sm capitalize",children:e}),(0,i.jsx)("input",{className:"border rounded-md p-2 w-24",value:P[e]??"0",inputMode:"numeric",onChange:i=>E(s=>({...s,[e]:i.target.value}))})]},e))]}),(0,i.jsxs)("div",{className:"border rounded-lg p-3 space-y-2",children:[(0,i.jsx)("div",{className:"text-sm font-medium",children:"Derived"}),r.map(e=>(0,i.jsxs)("label",{className:"flex items-center justify-between gap-2",children:[(0,i.jsx)("span",{className:"text-sm",children:e.label}),(0,i.jsx)("input",{className:"border rounded-md p-2 w-24",value:A[e.key]??"0",inputMode:"numeric",onChange:i=>_(s=>({...s,[e.key]:i.target.value}))})]},e.key))]})]}),(0,i.jsxs)("details",{className:"border rounded-md p-2 mt-3",children:[(0,i.jsx)("summary",{className:"cursor-pointer text-sm",children:"Skill modifiers (advanced)"}),(0,i.jsx)("div",{className:"mt-2 grid gap-2 sm:grid-cols-2 lg:grid-cols-3",children:l.map(e=>(0,i.jsxs)("label",{className:"flex items-center justify-between gap-2",children:[(0,i.jsx)("span",{className:"text-sm",children:e.label}),(0,i.jsx)("input",{className:"border rounded-md p-2 w-24",value:B[e.key]??"0",inputMode:"numeric",onChange:i=>I(s=>({...s,[e.key]:i.target.value}))})]},e.key))})]})]}):null,H&&(0,i.jsx)("p",{className:"text-sm text-red-600",children:H}),(0,i.jsx)("button",{className:"px-3 py-2 rounded-lg border bg-black text-white hover:opacity-90 disabled:opacity-50",disabled:T,children:"Add item"})]}),(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("section",{className:"space-y-3",children:[(0,i.jsx)("h3",{className:"font-medium",children:"Equipment"}),0===D.eq.length?(0,i.jsx)("p",{className:"text-sm text-gray-600",children:"None."}):(0,i.jsx)("div",{className:"space-y-4",children:n.map(e=>{let s=z.get(e)??[];return 0===s.length?null:(0,i.jsxs)("div",{className:"border rounded-xl p-3 space-y-2",children:[(0,i.jsx)("div",{className:"text-sm font-medium",children:o(e)}),(0,i.jsx)("ul",{className:"space-y-2",children:s.map(Q)})]},e)})})]}),(0,i.jsxs)("section",{className:"space-y-2",children:[(0,i.jsx)("h3",{className:"font-medium",children:"Consumables"}),0===D.con.length?(0,i.jsx)("p",{className:"text-sm text-gray-600",children:"None."}):(0,i.jsx)("ul",{className:"space-y-2",children:D.con.map(Q)})]}),(0,i.jsxs)("section",{className:"space-y-2",children:[(0,i.jsx)("h3",{className:"font-medium",children:"Key items"}),0===D.key.length?(0,i.jsx)("p",{className:"text-sm text-gray-600",children:"None."}):(0,i.jsx)("ul",{className:"space-y-2",children:D.key.map(Q)})]}),(0,i.jsxs)("section",{className:"space-y-2",children:[(0,i.jsx)("h3",{className:"font-medium",children:"Other"}),0===D.oth.length?(0,i.jsx)("p",{className:"text-sm text-gray-600",children:"None."}):(0,i.jsx)("ul",{className:"space-y-2",children:D.oth.map(Q)})]})]})]})}e.s(["default",()=>x])},48722,e=>{"use strict";var i=e.i(43476),s=e.i(71645),a=e.i(18566);function t({campaignId:e,characterId:t,initialIsNpc:l}){let r=(0,a.useRouter)(),[n,d]=(0,s.useState)(l),[c,o]=(0,s.useState)(!1),[m,p]=(0,s.useState)(null);async function u(i){p(null),o(!0);let s=await fetch("/api/characters/set-npc",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({campaignId:e,characterId:t,isNpc:i})}),a=await s.json().catch(()=>({}));(o(!1),s.ok)?(d(i),r.refresh()):p(a?.error??"Failed to update NPC flag.")}return(0,i.jsxs)("div",{className:"space-y-2",children:[m&&(0,i.jsx)("p",{className:"text-sm text-red-600",children:m}),(0,i.jsxs)("label",{className:"flex items-center gap-2 select-none",children:[(0,i.jsx)("input",{type:"checkbox",checked:n,disabled:c,onChange:e=>u(e.target.checked)}),(0,i.jsx)("span",{className:"text-sm",children:"NPC character"})]}),(0,i.jsx)("p",{className:"text-xs text-gray-600",children:"Used by “Skip NPC” when pushing monsters to all characters."})]})}e.s(["default",()=>t])},37701,e=>{"use strict";var i=e.i(43476),s=e.i(71645),a=e.i(18566);let t=["physical","mental","magic","intelligence","diplomacy","incivility"],l=[{key:"acrobatics",label:"Acrobatics",ability:"physical"},{key:"athletics",label:"Athletics",ability:"physical"},{key:"communication",label:"Communication",ability:"diplomacy"},{key:"deception",label:"Deception",ability:"incivility"},{key:"history",label:"History",ability:"intelligence"},{key:"identification",label:"Identification",ability:"magic"},{key:"insight",label:"Insight",ability:"diplomacy"},{key:"intimidation",label:"Intimidation",ability:"incivility"},{key:"investigation",label:"Investigation",ability:"intelligence"},{key:"learning",label:"Learning",ability:"mental"},{key:"perception",label:"Perception",ability:"mental"},{key:"performance",label:"Performance",ability:"incivility"},{key:"persuasion",label:"Persuasion",ability:"diplomacy"},{key:"sleight_of_hand",label:"Sleight of Hand",ability:"physical"},{key:"spells",label:"Spells",ability:"magic"}],r=[{key:"astronomy",label:"Astronomy"},{key:"care_of_magical_creatures",label:"Care of Magical Creatures"},{key:"charms",label:"Charms"},{key:"defense_against_the_dark_arts",label:"Defense Against the Dark Arts"},{key:"herbology",label:"Herbology"},{key:"potions",label:"Potions"},{key:"transfiguration",label:"Transfiguration"}],n=["F","E","D","C","B","A"];function d(e,i=0){let s=Number(e);return Number.isFinite(s)?Math.trunc(s):i}function c(e){return e>=0?`+${e}`:`${e}`}function o(){return{subjects:r.map(e=>({key:e.key,grade:"F",proficient:!1})),notes:""}}function m(e){let i=o(),s=new Map;if(e&&Array.isArray(e.subjects))for(let i of e.subjects)i&&"string"==typeof i.key&&s.set(i.key,i);return{subjects:r.map(e=>{var i;let a=s.get(e.key),t="string"==typeof(i=a?.grade)&&n.includes(i)?a.grade:"F",l=!!a?.proficient;return{key:e.key,grade:t,proficient:l}}),notes:"string"==typeof e?.notes?e.notes:i.notes}}function p(e){let i=Number(e);return Number.isFinite(i)?i:0}function u(e,i){let s=Object.fromEntries(i.map(e=>[e,0]));for(let a of e)if(a)for(let e of i)s[e]+=p(a[e]);return s}function x({campaignId:e,characterId:x,initialCharacterSheet:h,initialReportCard:y,initialItems:v}){let f=(0,a.useRouter)(),[g,b]=(0,s.useState)(()=>(function(e,i){let s=JSON.parse(JSON.stringify({level:1,proficiencyBonus:0,abilities:{physical:10,mental:10,magic:10,intelligence:10,diplomacy:10,incivility:10},savingThrowProficiencies:{physical:!1,mental:!1,magic:!1,intelligence:!1,diplomacy:!1,incivility:!1},skillProficiencies:{acrobatics:!1,athletics:!1,communication:!1,deception:!1,history:!1,identification:!1,insight:!1,intimidation:!1,investigation:!1,learning:!1,perception:!1,performance:!1,persuasion:!1,sleight_of_hand:!1,spells:!1},reportCard:o(),derived:{hpCurrent:10,hpMaxOverride:null,acOverride:null,initiativeOverride:null,speedOverride:null,passivePerceptionOverride:null}}));if(e&&"object"==typeof e){if(Number.isInteger(e.level)&&(s.level=e.level),Number.isInteger(e.proficiencyBonus)&&(s.proficiencyBonus=e.proficiencyBonus),e.abilities&&"object"==typeof e.abilities)for(let i of t)Number.isInteger(e.abilities[i])&&(s.abilities[i]=e.abilities[i]);if(e.savingThrowProficiencies&&"object"==typeof e.savingThrowProficiencies)for(let i of t)s.savingThrowProficiencies[i]=!!e.savingThrowProficiencies[i];if(e.skillProficiencies&&"object"==typeof e.skillProficiencies)for(let i of l)s.skillProficiencies[i.key]=!!e.skillProficiencies[i.key];if(e.derived&&"object"==typeof e.derived){let i=e.derived;Number.isInteger(i.hpCurrent)&&(s.derived.hpCurrent=i.hpCurrent),s.derived.hpMaxOverride=Number.isInteger(i.hpMaxOverride)?i.hpMaxOverride:null,s.derived.acOverride=Number.isInteger(i.acOverride)?i.acOverride:null,s.derived.initiativeOverride=Number.isInteger(i.initiativeOverride)?i.initiativeOverride:null,s.derived.speedOverride=Number.isInteger(i.speedOverride)?i.speedOverride:null,s.derived.passivePerceptionOverride=Number.isInteger(i.passivePerceptionOverride)?i.passivePerceptionOverride:null}e.reportCard&&(s.reportCard=m(e.reportCard))}return!e?.reportCard&&i&&(s.reportCard=m(i)),s})(h,y)),[j,N]=(0,s.useState)(!1),[k,w]=(0,s.useState)(null),q=Array.isArray(v)?v:[],C=(0,s.useMemo)(()=>q.filter(e=>e?.kind==="equipment"&&e?.equipped&&(e.qty??0)>0),[q]),O=(0,s.useMemo)(()=>u(C.map(e=>e.modifiers?.abilities),t),[C]),M=(0,s.useMemo)(()=>u(C.map(e=>e.modifiers?.saves),t),[C]),S=(0,s.useMemo)(()=>{let e=l.map(e=>e.key);return u(C.map(e=>e.modifiers?.skills),e)},[C]),P=(0,s.useMemo)(()=>{let e={hpMax:0,ac:0,initiative:0,speed:0,passivePerception:0};for(let i of C){let s=i.modifiers?.derived;s&&(e.hpMax+=p(s.hpMax),e.ac+=p(s.ac),e.initiative+=p(s.initiative),e.speed+=p(s.speed),e.passivePerception+=p(s.passivePerception))}return e},[C]),E=(0,s.useMemo)(()=>{let e={};for(let i of t)e[i]=(g.abilities[i]??0)+(O[i]??0);return e},[g.abilities,O]),B=(0,s.useMemo)(()=>{let e={};for(let i of t)e[i]=Math.floor((Number(E[i])-10)/2);return e},[E]),I=B.intelligence>B.mental?"intelligence":"mental";function A(e){return"learning"===e?I:l.find(i=>i.key===e).ability}let _=(0,s.useMemo)(()=>10*(g.level+B.physical),[g.level,B.physical]),T=g.derived.hpMaxOverride??_,F=T+P.hpMax,H=g.derived.acOverride??10,$=H+P.ac,D=B.mental,z=g.derived.initiativeOverride??D,L=z+P.initiative,R=g.derived.speedOverride??8,K=R+P.speed,J=10+B.mental,V=g.derived.passivePerceptionOverride??J,U=V+P.passivePerception,Q=Math.floor((Number(g.proficiencyBonus)||0)/2);async function Y(){w(null),N(!0);let i=await fetch("/api/characters/character-sheet/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({campaignId:e,characterId:x,characterSheet:g})}),s=await i.json().catch(()=>({}));return(N(!1),i.ok)?(f.refresh(),!0):(w(s?.error??"Failed to save character sheet."),!1)}return(0,i.jsxs)("div",{className:"space-y-6",children:[k?(0,i.jsx)("p",{className:"text-sm text-red-600",children:k}):null,(0,i.jsxs)("section",{className:"border rounded-xl p-4 space-y-3",children:[(0,i.jsx)("h3",{className:"font-medium",children:"Identity"}),(0,i.jsxs)("div",{className:"grid gap-3 sm:grid-cols-2",children:[(0,i.jsxs)("label",{className:"space-y-1",children:[(0,i.jsx)("div",{className:"text-xs text-gray-600",children:"Level"}),(0,i.jsx)("input",{className:"border rounded-md p-2 w-full",value:String(g.level),inputMode:"numeric",onChange:e=>b(i=>({...i,level:d(e.target.value,i.level)}))})]}),(0,i.jsxs)("label",{className:"space-y-1",children:[(0,i.jsx)("div",{className:"text-xs text-gray-600",children:"Proficiency bonus"}),(0,i.jsx)("input",{className:"border rounded-md p-2 w-full",value:String(g.proficiencyBonus),inputMode:"numeric",onChange:e=>b(i=>({...i,proficiencyBonus:d(e.target.value,i.proficiencyBonus)}))}),(0,i.jsxs)("div",{className:"text-xs text-gray-500",children:["Report card proficiency steps: ",(0,i.jsx)("span",{className:"font-medium",children:Q})]})]})]}),C.length?(0,i.jsxs)("div",{className:"text-xs text-gray-600",children:["Equipped items affecting stats: ",(0,i.jsx)("span",{className:"font-medium",children:C.length})]}):(0,i.jsx)("div",{className:"text-xs text-gray-500",children:"No equipped equipment modifiers active."})]}),(0,i.jsxs)("section",{className:"border rounded-xl p-4 space-y-3",children:[(0,i.jsx)("h3",{className:"font-medium",children:"Core stats"}),(0,i.jsxs)("div",{className:"text-xs text-gray-600",children:["Enter the ",(0,i.jsx)("span",{className:"font-medium",children:"base score"}),". Equipment modifiers change the effective score/modifier."]}),(0,i.jsx)("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:t.map(e=>{let s=g.abilities[e]??0,a=O[e]??0,t=E[e]??0;return(0,i.jsxs)("div",{className:"border rounded-lg p-3 space-y-2",children:[(0,i.jsx)("div",{className:"font-medium capitalize",children:e}),(0,i.jsxs)("label",{className:"space-y-1 block",children:[(0,i.jsx)("div",{className:"text-xs text-gray-600",children:"Base score"}),(0,i.jsx)("input",{className:"border rounded-md p-2 w-full",value:String(s),inputMode:"numeric",onChange:i=>b(s=>({...s,abilities:{...s.abilities,[e]:d(i.target.value,s.abilities[e])}}))})]}),(0,i.jsxs)("div",{className:"text-sm text-gray-700",children:["Effective score:"," ",(0,i.jsx)("span",{className:"font-semibold",children:t}),0!==a?(0,i.jsxs)("span",{className:"text-xs text-gray-500",children:[" (equipment ",c(a),")"]}):null]}),(0,i.jsxs)("div",{className:"text-sm text-gray-700",children:["Modifier: ",(0,i.jsx)("span",{className:"font-semibold",children:c(B[e])})]})]},e)})})]}),(0,i.jsxs)("section",{className:"border rounded-xl p-4 space-y-3",children:[(0,i.jsx)("h3",{className:"font-medium",children:"Saving throws"}),(0,i.jsx)("div",{className:"text-xs text-gray-600",children:"Total = ability mod + (proficiency if proficient) + equipment save bonuses."}),(0,i.jsx)("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:t.map(e=>{var s;return(0,i.jsxs)("div",{className:"border rounded-lg p-3 space-y-2",children:[(0,i.jsx)("div",{className:"font-medium capitalize",children:e}),(0,i.jsxs)("div",{className:"text-sm text-gray-700",children:["Base mod: ",(0,i.jsx)("span",{className:"font-medium",children:c(B[e])})]}),M[e]?(0,i.jsxs)("div",{className:"text-xs text-gray-500",children:["Equip bonus: ",c(M[e])]}):null,(0,i.jsxs)("label",{className:"flex items-center gap-2 select-none",children:[(0,i.jsx)("input",{type:"checkbox",checked:g.savingThrowProficiencies[e],onChange:i=>b(s=>({...s,savingThrowProficiencies:{...s.savingThrowProficiencies,[e]:i.target.checked}}))}),(0,i.jsx)("span",{className:"text-sm",children:"Proficient"})]}),(0,i.jsxs)("div",{className:"text-sm text-gray-700",children:["Total:"," ",(0,i.jsx)("span",{className:"font-semibold",children:c((s=g.savingThrowProficiencies[e],B[e]+(s?g.proficiencyBonus:0)+(M[e]??0)))})]})]},e)})})]}),(0,i.jsxs)("section",{className:"border rounded-xl p-4 space-y-3",children:[(0,i.jsx)("h3",{className:"font-medium",children:"Skills"}),(0,i.jsx)("div",{className:"text-xs text-gray-600",children:"Total = base ability mod + (proficiency if proficient) + equipment skill bonuses. Learning uses higher of Mental/Intelligence."}),(0,i.jsxs)("div",{className:"border rounded-xl overflow-hidden",children:[(0,i.jsxs)("div",{className:"grid grid-cols-12 gap-2 p-3 text-xs text-gray-600 border-b",children:[(0,i.jsx)("div",{className:"col-span-5 font-medium",children:"Skill"}),(0,i.jsx)("div",{className:"col-span-3 font-medium",children:"Base stat"}),(0,i.jsx)("div",{className:"col-span-2 font-medium",children:"Proficient"}),(0,i.jsx)("div",{className:"col-span-2 font-medium",children:"Total"})]}),l.map(e=>{var s;let a=A(e.key),t=B[A(s=e.key)]+(g.skillProficiencies[s]?g.proficiencyBonus:0)+(S[s]??0),l=S[e.key]??0;return(0,i.jsxs)("div",{className:"grid grid-cols-12 gap-2 p-3 border-b last:border-b-0 items-center",children:[(0,i.jsx)("div",{className:"col-span-5 font-medium",children:e.label}),(0,i.jsxs)("div",{className:"col-span-3",children:["learning"===e.key?(0,i.jsxs)("div",{className:"text-sm text-gray-700",children:[(0,i.jsx)("span",{className:"capitalize font-medium",children:a})," ",(0,i.jsx)("span",{className:"text-xs text-gray-500",children:"(higher mod of Mental/Int)"})]}):(0,i.jsx)("div",{className:"text-sm text-gray-700 capitalize",children:a}),(0,i.jsxs)("div",{className:"text-xs text-gray-500",children:["Base mod: ",c(B[a])]}),0!==l?(0,i.jsxs)("div",{className:"text-xs text-gray-500",children:["Equip bonus: ",c(l)]}):null]}),(0,i.jsxs)("div",{className:"col-span-2 flex items-center gap-2",children:[(0,i.jsx)("input",{type:"checkbox",checked:g.skillProficiencies[e.key],onChange:i=>b(s=>({...s,skillProficiencies:{...s.skillProficiencies,[e.key]:i.target.checked}}))}),(0,i.jsx)("span",{className:"text-sm",children:"Yes"})]}),(0,i.jsx)("div",{className:"col-span-2 font-semibold",children:c(t)})]},e.key)})]})]}),(0,i.jsxs)("section",{className:"border rounded-xl p-4 space-y-3",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-medium",children:"Knowledge (Report card)"}),(0,i.jsxs)("div",{className:"text-xs text-gray-600",children:["If proficient: effective grade increases by ",(0,i.jsx)("span",{className:"font-medium",children:Q})," (capped at A)."]})]}),(0,i.jsxs)("div",{className:"border rounded-xl overflow-hidden",children:[(0,i.jsxs)("div",{className:"grid grid-cols-12 gap-2 p-3 text-xs text-gray-600 border-b",children:[(0,i.jsx)("div",{className:"col-span-5 font-medium",children:"Class"}),(0,i.jsx)("div",{className:"col-span-3 font-medium",children:"Base grade"}),(0,i.jsx)("div",{className:"col-span-2 font-medium",children:"Proficient"}),(0,i.jsx)("div",{className:"col-span-2 font-medium",children:"Effective"})]}),r.map(e=>{var s,a,t,l;let r,d=g.reportCard.subjects.find(i=>i.key===e.key)??{key:e.key,grade:"F",proficient:!1},c=(s=d.grade,a=d.proficient,t=g.proficiencyBonus,r=n.indexOf(s),n[l=r+(a?Math.floor((Number(t)||0)/2):0),Math.max(0,Math.min(n.length-1,l))]);return(0,i.jsxs)("div",{className:"grid grid-cols-12 gap-2 p-3 border-b last:border-b-0 items-center",children:[(0,i.jsx)("div",{className:"col-span-5 font-medium",children:e.label}),(0,i.jsx)("div",{className:"col-span-3",children:(0,i.jsx)("select",{className:"border rounded-md p-2 w-full",value:d.grade,disabled:j,onChange:i=>b(s=>({...s,reportCard:{...s.reportCard,subjects:s.reportCard.subjects.map(s=>s.key===e.key?{...s,grade:i.target.value}:s)}})),children:n.map(e=>(0,i.jsx)("option",{value:e,children:e},e))})}),(0,i.jsxs)("div",{className:"col-span-2 flex items-center gap-2",children:[(0,i.jsx)("input",{type:"checkbox",checked:d.proficient,disabled:j,onChange:i=>b(s=>({...s,reportCard:{...s.reportCard,subjects:s.reportCard.subjects.map(s=>s.key===e.key?{...s,proficient:i.target.checked}:s)}}))}),(0,i.jsx)("span",{className:"text-sm",children:"Yes"})]}),(0,i.jsx)("div",{className:"col-span-2 font-semibold",children:c})]},e.key)})]}),(0,i.jsx)("textarea",{className:"border rounded-md p-2 w-full",rows:3,placeholder:"Notes (optional)",value:g.reportCard.notes??"",disabled:j,onChange:e=>b(i=>({...i,reportCard:{...i.reportCard,notes:e.target.value}}))}),(0,i.jsx)("div",{className:"text-xs text-gray-600",children:"Notes are saved when you press “Save character sheet”."})]}),(0,i.jsxs)("section",{className:"border rounded-xl p-4 space-y-3",children:[(0,i.jsx)("h3",{className:"font-medium",children:"Combat & derived"}),(0,i.jsxs)("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:[(0,i.jsxs)("div",{className:"border rounded-lg p-3 space-y-1",children:[(0,i.jsx)("div",{className:"text-xs text-gray-600",children:"Max HP"}),(0,i.jsxs)("div",{className:"text-sm text-gray-700",children:["Base: ",(0,i.jsx)("span",{className:"font-medium",children:T})," ",(0,i.jsxs)("span",{className:"text-xs text-gray-500",children:["(default ",_,")"]})]}),P.hpMax?(0,i.jsxs)("div",{className:"text-xs text-gray-500",children:["Equip bonus: ",c(P.hpMax)]}):null,(0,i.jsx)("input",{className:"border rounded-md p-2 w-full",placeholder:"Override (optional)",value:null===g.derived.hpMaxOverride?"":String(g.derived.hpMaxOverride),inputMode:"numeric",onChange:e=>b(i=>({...i,derived:{...i.derived,hpMaxOverride:""===e.target.value.trim()?null:d(e.target.value,0)}}))}),(0,i.jsxs)("div",{className:"text-xs text-gray-500",children:["Effective: ",F]})]}),(0,i.jsxs)("div",{className:"border rounded-lg p-3 space-y-1",children:[(0,i.jsx)("div",{className:"text-xs text-gray-600",children:"Current HP"}),(0,i.jsx)("input",{className:"border rounded-md p-2 w-full",value:String(g.derived.hpCurrent),inputMode:"numeric",onChange:e=>b(i=>({...i,derived:{...i.derived,hpCurrent:d(e.target.value,i.derived.hpCurrent)}}))}),(0,i.jsxs)("div",{className:"text-xs text-gray-500",children:["Out of ",F]})]}),(0,i.jsxs)("div",{className:"border rounded-lg p-3 space-y-1",children:[(0,i.jsx)("div",{className:"text-xs text-gray-600",children:"Armor Class"}),(0,i.jsxs)("div",{className:"text-sm text-gray-700",children:["Base: ",(0,i.jsx)("span",{className:"font-medium",children:H})]}),P.ac?(0,i.jsxs)("div",{className:"text-xs text-gray-500",children:["Equip bonus: ",c(P.ac)]}):null,(0,i.jsx)("input",{className:"border rounded-md p-2 w-full",placeholder:"Override (optional)",value:null===g.derived.acOverride?"":String(g.derived.acOverride),inputMode:"numeric",onChange:e=>b(i=>({...i,derived:{...i.derived,acOverride:""===e.target.value.trim()?null:d(e.target.value,0)}}))}),(0,i.jsxs)("div",{className:"text-xs text-gray-500",children:["Effective: ",$]})]}),(0,i.jsxs)("div",{className:"border rounded-lg p-3 space-y-1",children:[(0,i.jsx)("div",{className:"text-xs text-gray-600",children:"Initiative"}),(0,i.jsxs)("div",{className:"text-sm text-gray-700",children:["Base: ",(0,i.jsx)("span",{className:"font-medium",children:z})]}),P.initiative?(0,i.jsxs)("div",{className:"text-xs text-gray-500",children:["Equip bonus: ",c(P.initiative)]}):null,(0,i.jsx)("input",{className:"border rounded-md p-2 w-full",placeholder:"Override (optional)",value:null===g.derived.initiativeOverride?"":String(g.derived.initiativeOverride),inputMode:"numeric",onChange:e=>b(i=>({...i,derived:{...i.derived,initiativeOverride:""===e.target.value.trim()?null:d(e.target.value,0)}}))}),(0,i.jsxs)("div",{className:"text-xs text-gray-500",children:["Effective: ",L]})]}),(0,i.jsxs)("div",{className:"border rounded-lg p-3 space-y-1",children:[(0,i.jsx)("div",{className:"text-xs text-gray-600",children:"Speed"}),(0,i.jsxs)("div",{className:"text-sm text-gray-700",children:["Base: ",(0,i.jsx)("span",{className:"font-medium",children:R})]}),P.speed?(0,i.jsxs)("div",{className:"text-xs text-gray-500",children:["Equip bonus: ",c(P.speed)]}):null,(0,i.jsx)("input",{className:"border rounded-md p-2 w-full",placeholder:"Override (optional)",value:null===g.derived.speedOverride?"":String(g.derived.speedOverride),inputMode:"numeric",onChange:e=>b(i=>({...i,derived:{...i.derived,speedOverride:""===e.target.value.trim()?null:d(e.target.value,0)}}))}),(0,i.jsxs)("div",{className:"text-xs text-gray-500",children:["Effective: ",K]})]}),(0,i.jsxs)("div",{className:"border rounded-lg p-3 space-y-1",children:[(0,i.jsx)("div",{className:"text-xs text-gray-600",children:"Passive Perception"}),(0,i.jsxs)("div",{className:"text-sm text-gray-700",children:["Base: ",(0,i.jsx)("span",{className:"font-medium",children:V})]}),P.passivePerception?(0,i.jsxs)("div",{className:"text-xs text-gray-500",children:["Equip bonus: ",c(P.passivePerception)]}):null,(0,i.jsx)("input",{className:"border rounded-md p-2 w-full",placeholder:"Override (optional)",value:null===g.derived.passivePerceptionOverride?"":String(g.derived.passivePerceptionOverride),inputMode:"numeric",onChange:e=>b(i=>({...i,derived:{...i.derived,passivePerceptionOverride:""===e.target.value.trim()?null:d(e.target.value,0)}}))}),(0,i.jsxs)("div",{className:"text-xs text-gray-500",children:["Effective: ",U]})]})]}),(0,i.jsx)("div",{className:"pt-2",children:(0,i.jsx)("button",{type:"button",onClick:Y,disabled:j,className:"px-3 py-2 rounded-lg border bg-black text-white hover:opacity-90 disabled:opacity-50",children:j?"Saving…":"Save character sheet"})})]})]})}e.s(["default",()=>x])}]);